<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fms.service.mapper.ManagerServiceMapper" >
<sql id="queryManagerListCondition">
		<if test="chnName != null and chnName !=''" >
      		 AND A.CHN_NAME like '%${chnName}%'
    	</if>
  		<if test="mobile != null and mobile !=''" >
      		AND A.MOBILE = #{mobile}
    	</if>
</sql>
<select id="queryManagerList" parameterType="java.util.Map" resultType="java.util.Map">
SELECT a.MANAGER_ID "managerId",a.CHN_NAME "chnName", a.MOBILE "mobile" 
FROM t_manager a
WHERE a.RC_STATE = 'E'
<include refid="queryManagerListCondition"/>
LIMIT #{startIndex} , #{endIndex}
</select>
<select id="queryManagerListCount" parameterType="java.util.Map" resultType="java.lang.Integer">
SELECT COUNT(1)
FROM t_manager a
WHERE a.RC_STATE = 'E'
<include refid="queryManagerListCondition"/>
LIMIT #{startIndex} , #{endIndex}
</select>

<select id="getAllManagerInfo" parameterType="java.util.Map" resultType="java.util.Map">
SELECT a.MANAGER_ID "managerId",a.CHN_NAME "chnName", a.MOBILE "mobile" 
FROM t_manager a
WHERE a.RC_STATE = 'E'
</select>
</mapper>